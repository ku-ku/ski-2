(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{613:function(t,e,n){"use strict";(function(t){n(67),n(27),n(12),n(21),n(44);var r=n(13),o=n(108),d=n(597),h=n(92),c={name:"SkStoreNavi",props:{store:{type:Object,required:!0},has:{type:Object,required:!0},value:{type:Number,required:!1,default:r.ST_MODES.none}},components:{VBtn:o.a,VBadge:d.a,SkSvg:h.default},data:function(){return{mode:r.ST_MODES.none}},mounted:function(){this.mode=this.value},methods:{setMode:function(t){var e=this.mode,main=/^stores-id$/.test(this.$route.name);switch(console.log("NAV (mode):",e+" -> "+t,main),t===e&&(t=r.ST_MODES.def),t){case r.ST_MODES.qr:case r.ST_MODES.def:main?(this.mode=t,this.$emit("state",t)):this.$router.replace({path:"/stores/"+this.store.id});break;case r.ST_MODES.fils:this.$router.push({path:"/stores/"+this.store.id+"/filials"});break;case r.ST_MODES.find:this.$router.push({path:"/stores/"+this.store.id+"/catalog/"});break;case r.ST_MODES.info:this.$router.push({path:"/stores/"+this.store.id+"/info"});break;case r.ST_MODES.share:this.$router.push({path:"/stores/"+this.store.id+"/share"})}}},render:function(e){var n=this,o=this.store.brandcolor;return e("div",{class:{"sk-store-nav":!0,"sk-has-qr":this.mode===r.ST_MODES.qr,"sk-has-info":this.mode===r.ST_MODES.info,"sk-has-fils":this.mode===r.ST_MODES.fils,"sk-has-find":this.mode===r.ST_MODES.find,"sk-has-share":this.mode===r.ST_MODES.share,"sk-has-chat":this.mode===r.ST_MODES.chat,"sk-has-card":this.has.card,"sk-no-card":!this.has.card}},[e("v-badge",{props:{overlap:!0,color:t.isEmpty(this.store.pointscount)?"transparent":o||"default",content:this.store.pointscount}},[e("v-btn",{props:{outlined:!0},on:{click:function(){n.setMode(r.ST_MODES.fils)}}},[e("sk-svg",{props:{xref:"#ico-store"}})])]),e("v-btn",{props:{outlined:!0},on:{click:function(){n.setMode(r.ST_MODES.find)}}},[e("sk-svg",{props:{xref:"#ico-search"}})]),e("v-btn",{props:{outlined:!0},on:{click:function(){n.setMode(r.ST_MODES.qr)}}},[e("sk-svg",{props:{xref:"#ico-qrcode"}}),this.has.card?e("div",{class:"sk-has-card"}):null]),e("v-btn",{props:{outlined:!0},on:{click:function(){n.setMode(r.ST_MODES.share)}}},[e("sk-svg",{props:{xref:"#ico-share"}})]),e("v-btn",{props:{outlined:!0},on:{click:function(){n.setMode(r.ST_MODES.info)}}},[e("sk-svg",{props:{xref:"#ico-info"}})])])}};e.a=c}).call(this,n(13))},616:function(t,e,n){var content=n(618);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("fe05fbb0",content,!0,{sourceMap:!1})},617:function(t,e,n){"use strict";n(616)},618:function(t,e,n){(e=n(8)(!1)).push([t.i,".text-muted[data-v-700cd839]{color:#6c757d;font-size:.75rem;line-height:1.115}.sk-whited[data-v-700cd839]{background:#fff}.sk-store-nav[data-v-700cd839]{display:flex;justify-content:space-around!important;align-items:center!important;flex-wrap:nowrap;width:100%;background:transparent}.sk-store-nav .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]{padding:0;width:38px;min-width:38px;height:38px;border-color:#5c5c5c;background-color:#fff;box-shadow:0 0 4px rgba(0,0,0,.5)!important;transition:all .33s ease}.sk-store-nav .v-btn:not(.v-btn--round).v-size--default svg[data-v-700cd839]{transition:all .33s ease;width:22px;height:22px;color:#757575}.sk-store-nav .v-btn:not(.v-btn--round).v-size--default .sk-has-card[data-v-700cd839]{position:absolute;width:8px;height:8px;background-color:#11b719;border-radius:50%;border:1px solid #fff;top:-10px;right:-2px}.sk-store-nav.sk-has-qr .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(2),.sk-store-nav.sk-has-qr .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(4){width:46px;min-width:46px;height:46px}.sk-store-nav.sk-has-qr .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(3){width:56px;min-width:56px;height:56px}.sk-store-nav.sk-has-qr .v-btn:not(.v-btn--round).v-size--default:nth-child(3) svg[data-v-700cd839]{width:32px;height:32px}.sk-store-nav.sk-has-info .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(4){width:46px;min-width:46px;height:46px}.sk-store-nav.sk-has-info .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(5){width:56px;min-width:56px;height:56px}.sk-store-nav.sk-has-info .v-btn:not(.v-btn--round).v-size--default:nth-child(5) svg[data-v-700cd839]{width:32px;height:32px}.sk-store-nav.sk-has-fils .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]{width:38px;min-width:38px;height:38px}.sk-store-nav.sk-has-fils .v-btn:not(.v-btn--round).v-size--default svg[data-v-700cd839]{width:22px;height:22px}.sk-store-nav.sk-has-fils .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:first-child{width:56px;min-width:56px;height:56px}.sk-store-nav.sk-has-fils .v-btn:not(.v-btn--round).v-size--default:first-child svg[data-v-700cd839]{width:32px;height:32px}.sk-store-nav.sk-has-fils .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(2),.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:first-child,.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(3),.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(4),.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(5){width:46px;min-width:46px;height:46px}.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(2){width:56px;min-width:56px;height:56px}.sk-store-nav.sk-has-find .v-btn:not(.v-btn--round).v-size--default:nth-child(2) svg[data-v-700cd839]{width:32px;height:32px}.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:first-child,.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(2),.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(3),.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(5){width:46px;min-width:46px;height:46px}.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default[data-v-700cd839]:nth-child(4){width:56px;min-width:56px;height:56px}.sk-store-nav.sk-has-share .v-btn:not(.v-btn--round).v-size--default:nth-child(4) svg[data-v-700cd839]{width:32px;height:32px}",""]),t.exports=e},622:function(t,e,n){"use strict";var r=n(613).a,o=(n(617),n(29)),component=Object(o.a)(r,void 0,void 0,!1,null,"700cd839",null);e.a=component.exports},643:function(t,e,n){"use strict";(function(t){var r=n(92),o=n(108);e.a={name:"SkStoreInfo",components:{VBtn:o.a,SkSvg:r.default},props:{has:{type:Object,required:!0},store:{type:Object,required:!0},card:{type:Object,required:!1}},render:function(e){var n=this.store.brandcolor||"#222",r=[],o=[];return t.isEmpty(this.store.phone)||r.push(e("a",{attrs:{href:"tel:"+this.store.phone,target:"_blank"},style:{color:n}},[e("sk-svg",{props:{xref:"#ico-phone"}}),this.store.phone])),t.isEmpty(this.store.uri)||r.push(e("a",{attrs:{href:this.store.uri,target:"_blank"},style:{color:n}},[e("sk-svg",{props:{xref:"#ico-planet"}}),this.store.uri])),t.isEmpty(this.store.loyalty)||o.push(e("h3",{class:{"sk-loyalty":!0},domProps:{innerHTML:this.store.loyalty}})),this.has.card&&o.push(e("h3",{class:{"sk-card-inf":!0}},t.isEmpty(this.card.regnum)?"дата регистрации: "+t.formatDate(this.card.regdt):"карта № "+this.card.regnum+" оформлена "+t.formatDate(this.card.regdt))),r.length>0&&o.push(e("div",{class:{"sk-links":!0}},["Вы можете связаться с нами:",r])),o.push(e("v-btn",{props:{to:{name:"orders"},outlined:!0,color:n},class:{"mt-3":!0,"sk-go-orders":!0}},[e("sk-svg",{props:{xref:"#ico-bags"},style:{color:n,"margin-right":"0.5rem"}}),"история заказов"])),e("div",{key:"sti-"+this.store.id,class:"sk-store-details"},o)}}}).call(this,n(13))},667:function(t,e,n){var content=n(750);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(9).default)("49a474a5",content,!0,{sourceMap:!1})},749:function(t,e,n){"use strict";n(667)},750:function(t,e,n){(e=n(8)(!1)).push([t.i,".text-muted[data-v-5db03e1e]{color:#6c757d;font-size:.75rem;line-height:1.115}.sk-whited[data-v-5db03e1e]{background:#fff}.sk-store-details[data-v-5db03e1e]{margin-top:1rem}.sk-store-details .sk-links[data-v-5db03e1e]{margin-top:1rem;line-height:1.5}.sk-store-details .sk-links a[data-v-5db03e1e]{text-decoration:none;display:block}.sk-store-details .sk-links a svg[data-v-5db03e1e]{width:.75rem;height:.75rem;margin-right:.35rem}.sk-store-details .sk-loyalty[data-v-5db03e1e]{font-size:.85rem;color:#757575;text-align:center;line-height:1.115;font-weight:300}",""]),t.exports=e},792:function(t,e,n){"use strict";n.r(e);n(45);var r=n(5),o=n(13),d=n(108),h=n(167),c=n(80),v=n(622),l=n(643).a,f=(n(749),n(29)),k=Object(f.a)(l,void 0,void 0,!1,null,"5db03e1e",null).exports,x={asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,r=n.getters["profile/is"]("user"),o=null,d=n.state.active.store){e.next=8;break}return h=t.params.id,e.next=6,n.dispatch("loadStore",{id:h});case 6:d=e.sent,n.commit("active/setStore",d);case 8:if(!(r&&d&&d.hasaccount)){e.next=12;break}return e.next=11,n.dispatch("loadCard",{by:"tenant",id:d.tenantid});case 11:o=e.sent;case 12:return e.abrupt("return",{store:d,card:o,has:{store:!!d,card:o,user:r}});case 13:case"end":return e.stop()}}),e)})))()},head:function(){return{title:this.has.store?this.store.title:"loading..."}},components:{VBtn:d.a,VCard:h.a,VCardText:c.b,SkStoreNavi:v.a,SkStoreInfo:k},render:function(t){return t("v-card",{props:{flat:!0}},[t("v-card-text",[t(v.a,{key:"store-navi-info",props:{store:this.store,has:this.has,value:o.ST_MODES.info}}),t(k,{props:{store:this.store,card:this.card,has:this.has}})])])}},m=Object(f.a)(x,void 0,void 0,!1,null,null,null);e.default=m.exports}}]);